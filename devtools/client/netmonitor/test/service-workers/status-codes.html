<!-- Any copyright is dedicated to the Public Domain.
     http://creativecommons.org/publicdomain/zero/1.0/ -->
<!doctype html>

<html>
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Network Monitor test page</title>
  </head>

  <body>
    <p>Status codes test</p>

    <script type="text/javascript">
      function get(url) {
        return new Promise(done => {
          let iframe = document.createElement("iframe");
          iframe.setAttribute("src", url);
          document.documentElement.appendChild(iframe);
          iframe.contentWindow.onload = done;
        });
      }

      function registerServiceWorker() {
        return navigator.serviceWorker.register("status-codes-service-worker.js")
                        .then(() => navigator.serviceWorker.ready);
      }

      function performRequests() {
        return get("test/200");
      }

    </script>
  </body>

</html>
